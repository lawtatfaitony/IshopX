@using LanguageResource;
@using Ishop.Context;
@using PagedList;
@using PagedList.Mvc;
@model PagedList.IPagedList<Ishop.Models.ProductMgr.Supplier>
@{
    ViewBag.Title = Lang.ModalView_Supplierlist;
    ViewBag.SubTitle = Lang.ModalView_Mgrlist;
}

@using (Html.BeginForm("SupplierList", "Supplier", FormMethod.Get))
{
    <div id="box-widget" class="box-header with-border">
        <div class="form-inline">
            @Html.TextBox("SearchString", ViewBag.CurrentFilter as string, new { @class = "dropdown-toggle form-control margin-r-5", style = "max-width:90px;" })
            <input type="submit" class="btn btn-info  form-control " value="@Lang.Views_GeneralUI_Search" />
            @Html.ActionLink(Lang.Views_GeneralUI_AddNew, "SupplierAddOrUpd", null, new { @class = "btn btn-info pull-right" })
        </div>
    </div>
}
<div class="box-body  table-responsive">
    <table class="table table-striped table-hover">
        <tr>
            <th>
                <i class="fa fa-square-o" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().SupplierID)</lable>
            </th>
            <th>
                <i class="fa fa-square" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().SupplierName)</lable>
            </th>
            <th>
                <i class="fa fa-caret-square-o-right" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().ContactNick)</lable>
            </th>
            <th>
                <i class="fa fa-caret-square-o-right" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().ContactName)</lable>
            </th>
            <th>
                <i class="fa fa-volume-control-phone" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().PhoneNumber)</lable>
            </th>
            <th>
                <i class="fa fa-home" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().CompanyName)</lable>
            </th>
            <th>
                <i class="fa fa-map-marker" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().CompanyAddress)</lable>
            </th>
            <th>
                <i class="fa fa-home" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().ShopID)</lable>
            </th>
            <th>
                <i class="fa fa-pencil" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().Remarks)</lable>
            </th>
            <th>
                <i class="fa fa-user" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().OperatedUserName)</lable>
            </th>
            <th>
                <i class="fa fa-calendar" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable>@Html.DisplayNameFor(modelItem => modelItem.First().OperatedDate)</lable>
            </th>
            <th>
                <i class="fa fa-share-alt-square" aria-hidden="true" style="color:mediumslateblue">&nbsp;</i><lable class="block" style="word-break:keep-all">@Lang.Views_GeneralUI_Details</lable>
            </th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.SupplierID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SupplierName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ContactNick)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ContactName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhoneNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CompanyName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CompanyAddress)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ShopID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Remarks)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.OperatedUserName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OperatedDate,"0:d"))
                </td>
                <td>
                    <div class="block"><i class="fa fa-pencil" aria-hidden="true" style="color:mediumslateblue;word-break:keep-all"></i> @Html.ActionLink(Lang.Views_GeneralUI_Edit, "SupplierAddOrUpd", new { SupplierID = item.SupplierID }, new { style = "word-wrap:normal;word-break:keep-all" })</div>
                </td>
            </tr>
        } 
    </table>
</div>

@if (Model.PageCount > 1)
{
    <label>@string.Format(Lang.GeneralUI_PagerInfo, Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber, Model.PageCount, Model.Count)</label>
    @Html.PagedListPager(Model, page => Url.Action("SupplierList", new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter }))
}

<script>
    $('[data-toggle="tooltip"]').tooltip(); //Initialization
</script>
